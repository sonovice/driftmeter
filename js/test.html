<!doctype html>
<html>
<meta charset="utf-8">
<style>
    body {
        text-align: center;
    }

    canvas {
        border: 1px black solid;
    }
</style>
<body>


<script>
    function start() {
        const button = document.getElementById("start");
        button.disabled = true;
        if (navigator.getUserMedia) {
            let audioCtx = new (window.AudioContext || window.webkitAudioContext)();


            navigator.mediaDevices.getUserMedia({
                audio: {
                    echoCancellation: false,
                    noiseSuppression: false,
                    autoGainControl: false,
                }
            }).then(function (stream) {
                const audioSource = audioCtx.createMediaStreamSource(stream);
                const scriptNode = audioCtx.createScriptProcessor(4096, 1, 0);

                scriptNode.onaudioprocess = function (audioProcessingEvent) {
                    const inputBuffer = audioProcessingEvent.inputBuffer;
                    
                };

            }).catch(function (err) {
                console.log('Error initializing user media stream: ' + err);
            });

        }
    }
</script>
<canvas id="myCanvas" width="600" height="400"></canvas>
<br>
<button id="start" onclick="start()">Start</button>

</body>

</html>